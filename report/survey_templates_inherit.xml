<odoo>
    <!-- Inherit the base certification report view -->
    <template id="certification_report_view" inherit_id="survey.certification_report_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="user_input">

                <!-- If the layout is 'firenor_v1', use the custom Firenor template -->
                <t t-if="user_input.survey_id.certification_report_layout == 'firenor_v1'">
                    <t t-set="layout_template" t-value="modern"/>
                    <t t-set="layout_color" t-value="#47a5ae"/>
                    <t t-call="survey.certification_report_view_general"/>
                </t>

                <!-- If the layout is NOT 'firenor_v1', use the default logic with fallback for layout_values -->
                <t t-else="">
                    <!-- Ensure we set default values for layout_template and layout_color if needed -->
                    <t t-set="layout_values" t-value="user_input.survey_id.certification_report_layout.split('_') if user_input.survey_id.certification_report_layout and '_' in user_input.survey_id.certification_report_layout else ['modern', 'purple']"/>
                    <t t-set="layout_template" t-value="layout_values[0]"/>
                    <t t-set="layout_color" t-value="layout_values[1] if len(layout_values) > 1 else 'purple'"/>
                    <t t-call="survey.certification_report_view_general"/>
                </t>

            </t>
        </t>
    </template>

    <!-- Custom template for Firenor V1 layout -->
    <template id="certification_report_view_firenor_v1">
        <t t-call="web.basic_layout">
            <div class="page article certification-wrapper"
                t-att-data-oe-model="user_input._name"
                t-att-data-oe-id="user_input.id"
                style="padding: 40px; text-align: center;">

                <h1 style="font-size: 48px; color: #47a5ae;">Firenor Certification</h1>
                <p>Congratulations <t t-esc="user_input.partner_id.name"/>!</p>
                <p>You have successfully completed the survey:</p>
                <h3>"<t t-esc="user_input.survey_id.title"/>."</h3>
                <p>Date of Certification: <t t-esc="user_input.create_date"/></p>
                <p>Issued by Firenor UAE.</p>
            </div>
        </t>
    </template>
</odoo>
